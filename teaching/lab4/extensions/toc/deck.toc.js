/*!
Deck JS - deck.toc
Copyright (c) 2011 Remi BARRAQUAND
Dual licensed under the MIT license and GPL license.
https://github.com/imakewebthings/deck.js/blob/master/MIT-license.txt
https://github.com/imakewebthings/deck.js/blob/master/GPL-license.txt
*/
!function(t,e,o){var c,s=t(document);t.extend(!0,t[e].defaults,{classes:{toc:"deck-toc-frame"},keys:{toc:84},selectors:{toc:".deck-toc",tocTitle:".deck-toc-h1",tocSection:".deck-toc-h2",tocSubSection:".deck-toc-h3",tocSubSubSection:".deck-toc-h4",tocStatus:".deck-toc-status"}}),t[e]("extend","showToc",function(){t[e]("getContainer").addClass(t[e]("getOptions").classes.toc)}),t[e]("extend","hideToc",function(){t[e]("getContainer").removeClass(t[e]("getOptions").classes.toc)}),t[e]("extend","toggleToc",function(){t[e]("getContainer").hasClass(t[e]("getOptions").classes.toc)?t[e]("hideToc"):t[e]("showToc")}),s.bind("deck.init",function(){var i=t[e]("getOptions"),a=t[e]("getContainer");s.unbind("keydown.decktoc").bind("keydown.decktoc",function(o){(o.which===i.keys.toc||t.inArray(o.which,i.keys.toc)>-1)&&(t[e]("toggleToc"),o.preventDefault())}),a.click(function(){t[e]("hideToc")}),c=new n,t(t[e]("getOptions").selectors.toc).append(c.root),t.each(t[e]("getSlides"),function(s){for(var i=t[e]("getSlide",s),n=1;n<6;n++)if(i.find("h"+n).length>0){var a="",l=i.find("h"+n+":first");a=l.attr("title")!=o&&""!=l.attr("title")?l.attr("title"):l.text(),c.push(n,a,i),c.tag(i)}c.tag(i)})}).bind("deck.change",function(o,s,i){var n=t[e]("getOptions"),a=t[e]("getSlide",i),l=t[e]("getContainer");if(l.hasClass(t[e]("getOptions").classes.toc)&&l.scrollTop(a.offset().top),a.data("toc"))if(t(n.selectors.tocTitle).text(""),t(n.selectors.tocSection).text(""),t(n.selectors.tocSubSection).text(""),t(n.selectors.tocSubSubSection).text(""),a.hasClass("hide-toc-status"))t(n.selectors.tocStatus).hide();else{t(n.selectors.tocStatus).show();for(var r=c.context(a.data("toc")),d=1;d<=r.length;d++)switch(d){case 1:t(n.selectors.tocTitle).text(r[d-1]);break;case 2:t(n.selectors.tocSection).text(r[d-1]);break;case 3:t(n.selectors.tocSubSection).text(r[d-1]);break;case 4:t(n.selectors.tocSubSubSection).text(r[d-1])}}});var n=function(){function e(t){var e=o.length;if(t>e)for(i=e;i<t;i++)o.push(0);else if(e>t)for(i=t;i<e;i++)o.pop(),o[t-1]++;else o[t-1]++}this.root=t("<ul/>",{"class":"toc"}),this.push=function(c,s,i){e(c);var n=t("<li />",{id:"toc-"+o.join("-")}).data({slide:i,title:s}).append(t("<a />",{href:"#"+t(i).attr("id"),text:s})).append(t("<ul />")),a=this.root;c>1&&(a=a.find("li#toc-"+o.slice(0,o.length-1).join("-")).children("ul")),n.appendTo(a)},this.tag=function(t){t.data({toc:o.slice(0)})},this.context=function(t){$context=new Array;for(var e=this.root,o=0;o<t.length;o++){var c=e.find("li#toc-"+t.slice(0,o+1).join("-"));$context.push(c.data("title")),e=c.children("ul")}return $context};var o=[-1]}}(jQuery,"deck");