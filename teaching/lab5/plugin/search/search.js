!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).RevealSearch=t()}(this,function(){"use strict";function e(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}function t(e,t){return RegExp(e,t)}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=function(e){return e&&e.Math==Math&&e},o=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n&&n)||Function("return this")(),i=function(e){try{return!!e()}catch(e){return!0}},c=!i(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),u=function(e){return"object"==typeof e?null!==e:"function"==typeof e},a=o.document,l=u(a)&&u(a.createElement),f=!c&&!i(function(){return 7!=Object.defineProperty((e="div",l?a.createElement(e):{}),"a",{get:function(){return 7}}).a;var e}),s=function(e){if(!u(e))throw TypeError(String(e)+" is not an object");return e},p=function(e,t){if(!u(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!u(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!u(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!u(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},g=Object.defineProperty,d={f:c?g:function(e,t,n){if(s(e),t=p(t,!0),s(n),f)try{return g(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},h=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},y=c?function(e,t,n){return d.f(e,t,h(1,n))}:function(e,t,n){return e[t]=n,e},v=function(e,t){try{y(o,e,t)}catch(r){o[e]=t}return t},b="__core-js_shared__",x=o[b]||v(b,{}),m=e(function(e){(e.exports=function(e,t){return x[e]||(x[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})}),E={}.hasOwnProperty,S=function(e,t){return E.call(e,t)},w=0,R=Math.random(),O=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++w+R).toString(36)},T=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())}),_=T&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,j=m("wks"),P=o.Symbol,I=_?P:P&&P.withoutSetter||O,C=function(e){return S(j,e)||(T&&S(P,e)?j[e]=P[e]:j[e]=I("Symbol."+e)),j[e]},N={};N[C("toStringTag")]="z";var k="[object z]"===String(N),A=Function.toString;"function"!=typeof x.inspectSource&&(x.inspectSource=function(e){return A.call(e)});var $,L,M,U,D=x.inspectSource,F=o.WeakMap,K="function"==typeof F&&/native code/.test(D(F)),z=m("keys"),B={},W=o.WeakMap;if(K){var q=new W,G=q.get,V=q.has,Y=q.set;$=function(e,t){return Y.call(q,e,t),t},L=function(e){return G.call(q,e)||{}},M=function(e){return V.call(q,e)}}else{var X=z[U="state"]||(z[U]=O(U));B[X]=!0,$=function(e,t){return y(e,X,t),t},L=function(e){return S(e,X)?e[X]:{}},M=function(e){return S(e,X)}}var H={set:$,get:L,has:M,enforce:function(e){return M(e)?L(e):$(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=L(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},J=e(function(e){var t=H.get,n=H.enforce,r=String(String).split("String");(e.exports=function(e,t,i,c){var u=!!c&&!!c.unsafe,a=!!c&&!!c.enumerable,l=!!c&&!!c.noTargetGet;"function"==typeof i&&("string"!=typeof t||S(i,"name")||y(i,"name",t),n(i).source=r.join("string"==typeof t?t:"")),e!==o?(u?!l&&e[t]&&(a=!0):delete e[t],a?e[t]=i:y(e,t,i)):a?e[t]=i:v(t,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||D(this)})}),Q={}.toString,Z=function(e){return Q.call(e).slice(8,-1)},ee=C("toStringTag"),te="Arguments"==Z(function(){return arguments}()),ne=k?Z:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),ee))?n:te?Z(t):"Object"==(r=Z(t))&&"function"==typeof t.callee?"Arguments":r},re=k?{}.toString:function(){return"[object "+ne(this)+"]"};k||J(Object.prototype,"toString",re,{unsafe:!0});var oe=/#|\.prototype\./,ie=function(e,t){var n=ue[ce(e)];return n==le||n!=ae&&("function"==typeof t?i(t):!!t)},ce=ie.normalize=function(e){return String(e).replace(oe,".").toLowerCase()},ue=ie.data={},ae=ie.NATIVE="N",le=ie.POLYFILL="P",fe=ie,se=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return s(n),function(e){if(!u(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),pe="".split,ge=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==Z(e)?pe.call(e,""):Object(e)}:Object,de=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},he=function(e){return ge(de(e))},ye=Math.ceil,ve=Math.floor,be=function(e){return isNaN(e=+e)?0:(e>0?ve:ye)(e)},xe=Math.min,me=function(e){return e>0?xe(be(e),9007199254740991):0},Ee=Math.max,Se=Math.min,we=function(e){return function(t,n,r){var o,i=he(t),c=me(i.length),u=function(e,t){var n=be(r);return n<0?Ee(n+t,0):Se(n,t)}(0,c);if(e&&n!=n){for(;c>u;)if((o=i[u++])!=o)return!0}else for(;c>u;u++)if((e||u in i)&&i[u]===n)return e||u||0;return!e&&-1}},Re=(we(!0),we(!1)),Oe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),Te={f:Object.getOwnPropertyNames||function(e){return function(e,t){var n,r=he(e),o=0,i=[];for(n in r)!S(B,n)&&S(r,n)&&i.push(n);for(;t.length>o;)S(r,n=t[o++])&&(~Re(i,n)||i.push(n));return i}(e,Oe)}},_e=C("match"),je=function(){var e=s(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},Pe={UNSUPPORTED_Y:i(function(){var e=t("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:i(function(){var e=t("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},Ie=o,Ce=function(e){return"function"==typeof e?e:void 0},Ne=function(e,t){return arguments.length<2?Ce(Ie[e])||Ce(o[e]):Ie[e]&&Ie[e][t]||o[e]&&o[e][t]},ke=C("species"),Ae=d.f,$e=Te.f,Le=H.set,Me=C("match"),Ue=o.RegExp,De=Ue.prototype,Fe=/a/g,Ke=/a/g,ze=new Ue(Fe)!==Fe,Be=Pe.UNSUPPORTED_Y;if(c&&fe("RegExp",!ze||Be||i(function(){return Ke[Me]=!1,Ue(Fe)!=Fe||Ue(Ke)==Ke||"/a/i"!=Ue(Fe,"i")}))){for(var We=function(e,t){var n,r,o,i=this instanceof We,c=u(n=e)&&(void 0!==(r=n[_e])?!!r:"RegExp"==Z(n)),a=void 0===t;if(!i&&c&&e.constructor===We&&a)return e;ze?c&&!a&&(e=e.source):e instanceof We&&(a&&(t=je.call(e)),e=e.source),Be&&(o=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var l,f,s,p,g=(l=ze?new Ue(e,t):Ue(e,t),f=We,se&&"function"==typeof(s=(i?this:De).constructor)&&s!==f&&u(p=s.prototype)&&p!==f.prototype&&se(l,p),l);return Be&&o&&Le(g,{sticky:o}),g},qe=function(e){e in We||Ae(We,e,{configurable:!0,get:function(){return Ue[e]},set:function(t){Ue[e]=t}})},Ge=$e(Ue),Ve=0;Ge.length>Ve;)qe(Ge[Ve++]);De.constructor=We,We.prototype=De,J(o,"RegExp",We)}!function(){var e=Ne("RegExp"),t=d.f;c&&e&&!e[ke]&&t(e,ke,{configurable:!0,get:function(){return this}})}();var Ye={}.propertyIsEnumerable,Xe=Object.getOwnPropertyDescriptor,He={f:Xe&&!Ye.call({1:2},1)?function(e){var t=Xe(this,e);return!!t&&t.enumerable}:Ye},Je=Object.getOwnPropertyDescriptor,Qe={f:c?Je:function(e,t){if(e=he(e),t=p(t,!0),f)try{return Je(e,t)}catch(e){}if(S(e,t))return h(!He.f.call(e,t),e[t])}},Ze={f:Object.getOwnPropertySymbols},et=Ne("Reflect","ownKeys")||function(e){var t=Te.f(s(e)),n=Ze.f;return n?t.concat(n(e)):t},tt=function(e,t){for(var n=et(t),r=d.f,o=Qe.f,i=0;i<n.length;i++){var c=n[i];S(e,c)||r(e,c,o(t,c))}},nt=Qe.f,rt=RegExp.prototype.exec,ot=String.prototype.replace,it=rt,ct=function(){var e=/a/,t=/b*/g;return rt.call(e,"a"),rt.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),ut=Pe.UNSUPPORTED_Y||Pe.BROKEN_CARET,at=void 0!==/()??/.exec("")[1];(ct||at||ut)&&(it=function(e){var t,n,r,o,i=this,c=ut&&i.sticky,u=je.call(i),a=i.source,l=0,f=e;return c&&(-1===(u=u.replace("y","")).indexOf("g")&&(u+="g"),f=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(a="(?: "+a+")",f=" "+f,l++),n=new RegExp("^(?:"+a+")",u)),at&&(n=new RegExp("^"+a+"$(?!\\s)",u)),ct&&(t=i.lastIndex),r=rt.call(c?n:i,f),c?r?(r.input=r.input.slice(l),r[0]=r[0].slice(l),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:ct&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),at&&r&&r.length>1&&ot.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var lt=it;!function(e,t){var n,r,i,c,u,a=e.target,l=e.global,f=e.stat;if(n=l?o:f?o[a]||v(a,{}):(o[a]||{}).prototype)for(r in t){if(c=t[r],i=e.noTargetGet?(u=nt(n,r))&&u.value:n[r],!fe(l?r:a+(f?".":"#")+r,e.forced)&&void 0!==i){if(typeof c==typeof i)continue;tt(c,i)}(e.sham||i&&i.sham)&&y(c,"sham",!0),J(n,r,c,e)}}({target:"RegExp",proto:!0,forced:/./.exec!==lt},{exec:lt});var ft="toString",st=RegExp.prototype,pt=st.toString,gt=i(function(){return"/a/b"!=pt.call({source:"a",flags:"b"})}),dt=pt.name!=ft;(gt||dt)&&J(RegExp.prototype,ft,function(){var e=s(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in st)?je.call(e):n)},{unsafe:!0});var ht=C("species"),yt=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),vt="$0"==="a".replace(/./,"$0"),bt=C("replace"),xt=!!/./[bt]&&""===/./[bt]("a","$0"),mt=!i(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),Et=function(e){return function(t,n){var r,o,i=String(de(t)),c=be(n),u=i.length;return c<0||c>=u?e?"":void 0:(r=i.charCodeAt(c))<55296||r>56319||c+1===u||(o=i.charCodeAt(c+1))<56320||o>57343?e?i.charAt(c):r:e?i.slice(c,c+2):o-56320+(r-55296<<10)+65536}},St=(Et(!1),Et(!0)),wt=function(e,t,n){return t+(n?St(e,t).length:1)},Rt=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==Z(e))throw TypeError("RegExp#exec called on incompatible receiver");return lt.call(e,t)},Ot=Math.max,Tt=Math.min,_t=Math.floor,jt=/\$([$&'`]|\d\d?|<[^>]*>)/g,Pt=/\$([$&'`]|\d\d?)/g;return function(e,t,n,r){var o=C(e),c=!i(function(){var t={};return t[o]=function(){return 7},7!=""[e](t)}),u=c&&!i(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[ht]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t});if(!c||!u||"replace"===e&&(!yt||!vt||xt)||"split"===e&&!mt){var a=/./[o],l=n(o,""[e],function(e,t,n,r,o){return t.exec===lt?c&&!o?{done:!0,value:a.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},{REPLACE_KEEPS_$0:vt,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:xt}),f=l[0],s=l[1];J(String.prototype,e,f),J(RegExp.prototype,o,2==t?function(e,t){return s.call(e,this,t)}:function(e){return s.call(e,this)})}r&&y(RegExp.prototype[o],"sham",!0)}("replace",2,function(e,t,n,r){function o(e,n,r,o,i,c){var u=r+e.length,a=o.length,l=Pt;return void 0!==i&&(i=Object(de(i)),l=jt),t.call(c,l,function(t,c){var l;switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":l=i[c.slice(1,-1)];break;default:var f=+c;if(0===f)return t;if(f>a){var s=_t(f/10);return 0===s?t:s<=a?void 0===o[s-1]?c.charAt(1):o[s-1]+c.charAt(1):t}l=o[f-1]}return void 0===l?"":l})}var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,c=r.REPLACE_KEEPS_$0,u=i?"$":"$0";return[function(n,r){var o=de(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!i&&c||"string"==typeof r&&-1===r.indexOf(u)){var a=n(t,e,this,r);if(a.done)return a.value}var l=s(e),f=String(this),p="function"==typeof r;p||(r=String(r));var g=l.global;if(g){var d=l.unicode;l.lastIndex=0}for(var h=[];;){var y=Rt(l,f);if(null===y)break;if(h.push(y),!g)break;""===String(y[0])&&(l.lastIndex=wt(f,me(l.lastIndex),d))}for(var v,b="",x=0,m=0;m<h.length;m++){y=h[m];for(var E=String(y[0]),S=Ot(Tt(be(y.index),f.length),0),w=[],R=1;R<y.length;R++)w.push(void 0===(v=y[R])?v:String(v));var O=y.groups;if(p){var T=[E].concat(w,S,f);void 0!==O&&T.push(O);var _=String(r.apply(void 0,T))}else _=o(E,f,S,w,O,r);S>=x&&(b+=f.slice(x,S)+_,x=S+E.length)}return b+f.slice(x)}]}),function(){function e(){(i=document.createElement("div")).classList.add("searchbox"),i.style.position="absolute",i.style.top="10px",i.style.right="10px",i.style.zIndex=10,i.innerHTML='<input type="search" class="searchinput" placeholder="Search..." style="vertical-align: top;"/>\n\t\t</span>',(c=i.querySelector(".searchinput")).style.width="240px",c.style.fontSize="14px",c.style.padding="4px 6px",c.style.color="#000",c.style.background="#fff",c.style.borderRadius="2px",c.style.border="0",c.style.outline="0",c.style.boxShadow="0 2px 18px rgba(0, 0, 0, 0.2)",c.style["-webkit-appearance"]="none",o.getRevealElement().appendChild(i),c.addEventListener("keyup",function(e){switch(e.keyCode){case 13:e.preventDefault(),function(){if(l){var e=c.value;""===e?(f&&f.remove(),u=null):(f=new r("slidecontent"),u=f.apply(e),a=0)}u&&(u.length&&u.length<=a&&(a=0),u.length>a&&(o.slide(u[a].h,u[a].v),a++))}(),l=!1;break;default:l=!0}},!1),n()}function t(){i||e(),i.style.display="inline",c.focus(),c.select()}function n(){i||e(),i.style.display="none",f&&f.remove()}function r(e,t){var n=document.getElementById(e)||document.body,r=t||"EM",i=new RegExp("^(?:"+r+"|SCRIPT|FORM)$"),c=["#ff6","#a0ffff","#9f9","#f99","#f6f"],u=[],a=0,l="",f=[];this.setRegex=function(e){e=e.replace(/^[^\w]+|[^\w]+$/g,"").replace(/[^\w'-]+/g,"|"),l=new RegExp("("+e+")","i")},this.getRegex=function(){return l.toString().replace(/^\/\\b\(|\)\\b\/i$/g,"").replace(/\|/g," ")},this.hiliteWords=function(e){if(null!=e&&e&&l&&!i.test(e.nodeName)){if(e.hasChildNodes())for(var t=0;t<e.childNodes.length;t++)this.hiliteWords(e.childNodes[t]);var n,s;if(3==e.nodeType&&(n=e.nodeValue)&&(s=l.exec(n))){for(var p=e;null!=p&&"SECTION"!=p.nodeName;)p=p.parentNode;var g=o.getIndices(p),d=f.length,h=!1;for(t=0;t<d;t++)f[t].h===g.h&&f[t].v===g.v&&(h=!0);h||f.push(g),u[s[0].toLowerCase()]||(u[s[0].toLowerCase()]=c[a++%c.length]);var y=document.createElement(r);y.appendChild(document.createTextNode(s[0])),y.style.backgroundColor=u[s[0].toLowerCase()],y.style.fontStyle="inherit",y.style.color="#000";var v=e.splitText(s.index);v.nodeValue=v.nodeValue.substring(s[0].length),e.parentNode.insertBefore(y,v)}}},this.remove=function(){for(var e,t=document.getElementsByTagName(r);t.length&&(e=t[0]);)e.parentNode.replaceChild(e.firstChild,e)},this.apply=function(e){if(null!=e&&e)return this.remove(),this.setRegex(e),this.hiliteWords(n),f}}var o,i,c,u,a,l,f;return{id:"search",init:function(r){(o=r).registerKeyboardShortcut("CTRL + Shift + F","Search"),document.addEventListener("keydown",function(r){"F"==r.key&&(r.ctrlKey||r.metaKey)&&(r.preventDefault(),i||e(),"inline"!==i.style.display?t():n())},!1)},open:t}}});