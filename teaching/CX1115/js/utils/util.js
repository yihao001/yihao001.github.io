export const extend=(e,t)=>{for(let r in t)e[r]=t[r];return e};export const queryAll=(e,t)=>Array.from(e.querySelectorAll(t));export const toggleClass=(e,t,r)=>{r?e.classList.add(t):e.classList.remove(t)};export const deserialize=e=>{if("string"==typeof e){if("null"===e)return null;if("true"===e)return!0;if("false"===e)return!1;if(e.match(/^-?[\d\.]+$/))return parseFloat(e)}return e};export const distanceBetween=(e,t)=>{let r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)};export const transformElement=(e,t)=>{e.style.transform=t};export const matches=(e,t)=>{let r=e.matches||e.matchesSelector||e.msMatchesSelector;return!(!r||!r.call(e,t))};export const closest=(e,t)=>{if("function"==typeof e.closest)return e.closest(t);for(;e;){if(matches(e,t))return e;e=e.parentNode}return null};export const enterFullscreen=e=>{let t=(e=e||document.documentElement).requestFullscreen||e.webkitRequestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen;t&&t.apply(e)};export const createSingletonNode=(e,t,r,n="")=>{let l=e.querySelectorAll("."+r);for(let t=0;t<l.length;t++){let r=l[t];if(r.parentNode===e)return r}let s=document.createElement(t);return s.className=r,s.innerHTML=n,e.appendChild(s),s};export const createStyleSheet=e=>{let t=document.createElement("style");return t.type="text/css",e&&e.length>0&&(t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))),document.head.appendChild(t),t};export const getQueryHash=()=>{let e={};location.search.replace(/[A-Z0-9]+?=([\w\.%-]*)/gi,t=>{e[t.split("=").shift()]=t.split("=").pop()});for(let t in e){let r=e[t];e[t]=deserialize(unescape(r))}return"undefined"!=typeof e.dependencies&&delete e.dependencies,e};export const getRemainingHeight=(e,t=0)=>{if(e){let r,n=e.style.height;return e.style.height="0px",e.parentNode.style.height="auto",r=t-e.parentNode.offsetHeight,e.style.height=n+"px",e.parentNode.style.removeProperty("height"),r}return t};