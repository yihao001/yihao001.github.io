import SlideContent from"./controllers/slidecontent.js";import SlideNumber from"./controllers/slidenumber.js";import Backgrounds from"./controllers/backgrounds.js";import AutoAnimate from"./controllers/autoanimate.js";import Fragments from"./controllers/fragments.js";import Overview from"./controllers/overview.js";import Keyboard from"./controllers/keyboard.js";import Location from"./controllers/location.js";import Controls from"./controllers/controls.js";import Progress from"./controllers/progress.js";import Pointer from"./controllers/pointer.js";import Plugins from"./controllers/plugins.js";import Print from"./controllers/print.js";import Touch from"./controllers/touch.js";import Focus from"./controllers/focus.js";import Notes from"./controllers/notes.js";import Playback from"./components/playback.js";import defaultConfig from"./config.js";import*as Util from"./utils/util.js";import*as Device from"./utils/device.js";import{SLIDES_SELECTOR,HORIZONTAL_SLIDES_SELECTOR,VERTICAL_SLIDES_SELECTOR,POST_MESSAGE_METHOD_BLACKLIST}from"./utils/constants.js";export const VERSION="4.0.2";
/**
 * reveal.js
 * https://revealjs.com
 * MIT licensed
 *
 * Copyright (C) 2020 Hakim El Hattab, https://hakim.se
 */export default function(e,t){function i(i){return He.wrapper=e,He.slides=e.querySelector(".slides"),ke={...defaultConfig,...ke,...t,...i,...Util.getQueryHash()},n(),window.addEventListener("load",N,!1),it.load(ke.plugins,ke.dependencies).then(r),new Promise(e=>Ne.on("ready",e))}function n(){!0===ke.embedded?He.viewport=Util.closest(e,".reveal-viewport")||e:(He.viewport=document.body,document.documentElement.classList.add("reveal-full-page")),He.viewport.classList.add("reveal-viewport")}function r(){Ie=!0,a(),o(),c(),u(),B(),p(),Xe.readURL(),$e.update(!0),setTimeout(()=>{He.slides.classList.remove("no-transition"),He.wrapper.classList.add("ready"),y({type:"ready",data:{indexh:Te,indexv:Oe,currentSlide:Ce}})},1),nt.isPrintingPDF()&&(g(),"complete"===document.readyState?nt.setupPDF():window.addEventListener("load",()=>{nt.setupPDF()}))}function a(){ke.showHiddenSlides||Util.queryAll(He.wrapper,'section[data-visibility="hidden"]').forEach(e=>{e.parentNode.removeChild(e)})}function o(){He.slides.classList.add("no-transition"),Device.isMobile?He.wrapper.classList.add("no-hover"):He.wrapper.classList.remove("no-hover"),$e.render(),We.render(),Ye.render(),et.render(),ot.render(),He.pauseOverlay=Util.createSingletonNode(He.wrapper,"div","pause-overlay",ke.controls?'<button class="resume-button">Resume presentation</button>':null),He.statusElement=s(),He.wrapper.setAttribute("role","application")}function s(){let e=He.wrapper.querySelector(".aria-status");return e||((e=document.createElement("div")).style.position="absolute",e.style.height="1px",e.style.width="1px",e.style.overflow="hidden",e.style.clip="rect( 1px, 1px, 1px, 1px )",e.classList.add("aria-status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),He.wrapper.appendChild(e)),e}function l(e){He.statusElement.textContent=e}function d(e){let t="";if(3===e.nodeType)t+=e.textContent;else if(1===e.nodeType){let i=e.getAttribute("aria-hidden"),n="none"===window.getComputedStyle(e).display;"true"===i||n||Array.from(e.childNodes).forEach(e=>{t+=d(e)})}return""===(t=t.trim())?"":t+" "}function u(){setInterval(()=>{0===He.wrapper.scrollTop&&0===He.wrapper.scrollLeft||(He.wrapper.scrollTop=0,He.wrapper.scrollLeft=0)},1e3)}function c(){ke.postMessage&&window.addEventListener("message",e=>{let t=e.data;if("string"==typeof t&&"{"===t.charAt(0)&&"}"===t.charAt(t.length-1)&&(t=JSON.parse(t)).method&&"function"==typeof Ne[t.method])if(!1===POST_MESSAGE_METHOD_BLACKLIST.test(t.method)){const e=Ne[t.method].apply(Ne,t.args);b("callback",{method:t.method,result:e})}else console.warn('reveal.js: "'+t.method+'" is is blacklisted from the postMessage API')},!1)}function p(e){const t={...ke};if("object"==typeof e&&Util.extend(ke,e),!1===Ne.isReady())return;const i=He.wrapper.querySelectorAll(SLIDES_SELECTOR).length;He.wrapper.classList.remove(t.transition),He.wrapper.classList.add(ke.transition),He.wrapper.setAttribute("data-transition-speed",ke.transitionSpeed),He.wrapper.setAttribute("data-background-transition",ke.backgroundTransition),He.viewport.style.setProperty("--slide-width",ke.width+"px"),He.viewport.style.setProperty("--slide-height",ke.height+"px"),ke.shuffle&&K(),Util.toggleClass(He.wrapper,"embedded",ke.embedded),Util.toggleClass(He.wrapper,"rtl",ke.rtl),Util.toggleClass(He.wrapper,"center",ke.center),!1===ke.pause&&U(),ke.previewLinks?(w(),S("[data-preview-link=false]")):(S(),w("[data-preview-link]:not([data-preview-link=false])")),Ze.reset(),Re&&(Re.destroy(),Re=null),i>1&&ke.autoSlide&&ke.autoSlideStoppable&&((Re=new Playback(He.wrapper,()=>Math.min(Math.max((Date.now()-Ve)/ze,0),1))).on("click",xe),Be=!1),"default"!==ke.navigationMode?He.wrapper.setAttribute("data-navigation-mode",ke.navigationMode):He.wrapper.removeAttribute("data-navigation-mode"),ot.configure(ke,t),rt.configure(ke,t),tt.configure(ke,t),Ye.configure(ke,t),et.configure(ke,t),Je.configure(ke,t),Qe.configure(ke,t),We.configure(ke,t),F()}function f(){_e=!0,window.addEventListener("resize",Le,!1),ke.touch&&at.bind(),ke.keyboard&&Je.bind(),ke.progress&&et.bind(),ke.respondToHashChanges&&Xe.bind(),Ye.bind(),rt.bind(),He.slides.addEventListener("transitionend",Se,!1),He.pauseOverlay.addEventListener("click",U,!1),ke.focusBodyOnPageVisibilityChange&&document.addEventListener("visibilitychange",Ee,!1)}function g(){_e=!1,at.unbind(),rt.unbind(),Je.unbind(),Ye.unbind(),et.unbind(),Xe.unbind(),window.removeEventListener("resize",Le,!1),He.slides.removeEventListener("transitionend",Se,!1),He.pauseOverlay.removeEventListener("click",U,!1)}function v(t,i,n){e.addEventListener(t,i,n)}function h(t,i,n){e.removeEventListener(t,i,n)}function m(e){"string"==typeof e.layout&&(De.layout=e.layout),"string"==typeof e.overview&&(De.overview=e.overview),De.layout?Util.transformElement(He.slides,De.layout+" "+De.overview):Util.transformElement(He.slides,De.overview)}function y({target:e=He.wrapper,type:t,data:i,bubbles:n=!0}){let r=document.createEvent("HTMLEvents",1,2);r.initEvent(t,n,!0),Util.extend(r,i),e.dispatchEvent(r),e===He.wrapper&&b(t)}function b(e,t){if(ke.postMessageEvents&&window.parent!==window.self){let i={namespace:"reveal",eventName:e,state:le()};Util.extend(i,t),window.parent.postMessage(JSON.stringify(i),"*")}}function w(e="a"){Array.from(He.wrapper.querySelectorAll(e)).forEach(e=>{/^(http|www)/gi.test(e.getAttribute("href"))&&e.addEventListener("click",Ae,!1)})}function S(e="a"){Array.from(He.wrapper.querySelectorAll(e)).forEach(e=>{/^(http|www)/gi.test(e.getAttribute("href"))&&e.removeEventListener("click",Ae,!1)})}function L(e){x(),He.overlay=document.createElement("div"),He.overlay.classList.add("overlay"),He.overlay.classList.add("overlay-preview"),He.wrapper.appendChild(He.overlay),He.overlay.innerHTML=`<header>\n\t\t\t\t<a class="close" href="#"><span class="icon"></span></a>\n\t\t\t\t<a class="external" href="${e}" target="_blank"><span class="icon"></span></a>\n\t\t\t</header>\n\t\t\t<div class="spinner"></div>\n\t\t\t<div class="viewport">\n\t\t\t\t<iframe src="${e}"></iframe>\n\t\t\t\t<small class="viewport-inner">\n\t\t\t\t\t<span class="x-frame-error">Unable to load iframe. This is likely due to the site's policy (x-frame-options).</span>\n\t\t\t\t</small>\n\t\t\t</div>`,He.overlay.querySelector("iframe").addEventListener("load",()=>{He.overlay.classList.add("loaded")},!1),He.overlay.querySelector(".close").addEventListener("click",e=>{x(),e.preventDefault()},!1),He.overlay.querySelector(".external").addEventListener("click",()=>{x()},!1)}function E(e){"boolean"==typeof e?e?A():x():He.overlay?x():A()}function A(){if(ke.help){x(),He.overlay=document.createElement("div"),He.overlay.classList.add("overlay"),He.overlay.classList.add("overlay-help"),He.wrapper.appendChild(He.overlay);let e='<p class="title">Keyboard Shortcuts</p><br/>',t=Je.getShortcuts(),i=Je.getBindings();e+="<table><th>KEY</th><th>ACTION</th>";for(let i in t)e+=`<tr><td>${i}</td><td>${t[i]}</td></tr>`;for(let t in i)i[t].key&&i[t].description&&(e+=`<tr><td>${i[t].key}</td><td>${i[t].description}</td></tr>`);e+="</table>",He.overlay.innerHTML=`\n\t\t\t\t<header>\n\t\t\t\t\t<a class="close" href="#"><span class="icon"></span></a>\n\t\t\t\t</header>\n\t\t\t\t<div class="viewport">\n\t\t\t\t\t<div class="viewport-inner">${e}</div>\n\t\t\t\t</div>\n\t\t\t`,He.overlay.querySelector(".close").addEventListener("click",e=>{x(),e.preventDefault()},!1)}}function x(){return!!He.overlay&&(He.overlay.parentNode.removeChild(He.overlay),He.overlay=null,!0)}function N(){if(He.wrapper&&!nt.isPrintingPDF()){if(!ke.disableLayout){Device.isMobile&&!ke.embedded&&document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px");const e=O(),t=Ue;T(ke.width,ke.height),He.slides.style.width=e.width+"px",He.slides.style.height=e.height+"px",Ue=Math.min(e.presentationWidth/e.width,e.presentationHeight/e.height),Ue=Math.max(Ue,ke.minScale),1===(Ue=Math.min(Ue,ke.maxScale))?(He.slides.style.zoom="",He.slides.style.left="",He.slides.style.top="",He.slides.style.bottom="",He.slides.style.right="",m({layout:""})):Ue>1&&Device.supportsZoom&&window.devicePixelRatio<2?(He.slides.style.zoom=Ue,He.slides.style.left="",He.slides.style.top="",He.slides.style.bottom="",He.slides.style.right="",m({layout:""})):(He.slides.style.zoom="",He.slides.style.left="50%",He.slides.style.top="50%",He.slides.style.bottom="auto",He.slides.style.right="auto",m({layout:"translate(-50%, -50%) scale("+Ue+")"}));const i=Array.from(He.wrapper.querySelectorAll(SLIDES_SELECTOR));for(let t=0,n=i.length;t<n;t++){const n=i[t];"none"!==n.style.display&&(ke.center||n.classList.contains("center")?n.classList.contains("stack")?n.style.top=0:n.style.top=Math.max((e.height-n.scrollHeight)/2,0)+"px":n.style.top="")}t!==Ue&&y({type:"resize",data:{oldScale:t,scale:Ue,size:e}})}et.update(),$e.updateParallax(),Ge.isActive()&&Ge.update()}}function T(e,t){Util.queryAll(He.slides,"section > .stretch, section > .r-stretch").forEach(i=>{let n=Util.getRemainingHeight(i,t);if(/(img|video)/gi.test(i.nodeName)){const t=i.naturalWidth||i.videoWidth,r=i.naturalHeight||i.videoHeight,a=Math.min(e/t,n/r);i.style.width=t*a+"px",i.style.height=r*a+"px"}else i.style.width=e+"px",i.style.height=n+"px"})}function O(e,t){const i={width:ke.width,height:ke.height,presentationWidth:e||He.wrapper.offsetWidth,presentationHeight:t||He.wrapper.offsetHeight};return i.presentationWidth-=i.presentationWidth*ke.margin,i.presentationHeight-=i.presentationHeight*ke.margin,"string"==typeof i.width&&/%$/.test(i.width)&&(i.width=parseInt(i.width,10)/100*i.presentationWidth),"string"==typeof i.height&&/%$/.test(i.height)&&(i.height=parseInt(i.height,10)/100*i.presentationHeight),i}function P(e,t){"object"==typeof e&&"function"==typeof e.setAttribute&&e.setAttribute("data-previous-indexv",t||0)}function C(e){if("object"==typeof e&&"function"==typeof e.setAttribute&&e.classList.contains("stack")){const t=e.hasAttribute("data-start-indexv")?"data-start-indexv":"data-previous-indexv";return parseInt(e.getAttribute(t)||0,10)}return 0}function R(e=Ce){return e&&e.parentNode&&!!e.parentNode.nodeName.match(/section/i)}function k(){return!(!Ce||!R(Ce))&&!Ce.nextElementSibling}function I(){return 0===Te&&0===Oe}function q(){return!!Ce&&(!Ce.nextElementSibling&&(!R(Ce)||!Ce.parentNode.nextElementSibling))}function M(){if(ke.pause){const e=He.wrapper.classList.contains("paused");ce(),He.wrapper.classList.add("paused"),!1===e&&y({type:"paused"})}}function U(){const e=He.wrapper.classList.contains("paused");He.wrapper.classList.remove("paused"),ue(),e&&y({type:"resumed"})}function D(e){"boolean"==typeof e?e?M():U():H()?U():M()}function H(){return He.wrapper.classList.contains("paused")}function _(e){"boolean"==typeof e?e?fe():pe():Be?fe():pe()}function j(){return!(!ze||Be)}function z(e,t,i,n){Pe=Ce;const r=He.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR);if(0===r.length)return;t!==undefined||Ge.isActive()||(t=C(r[e])),Pe&&Pe.parentNode&&Pe.parentNode.classList.contains("stack")&&P(Pe.parentNode,Oe);const a=Me.concat();Me.length=0;let o=Te||0,s=Oe||0;Te=W(HORIZONTAL_SLIDES_SELECTOR,e===undefined?Te:e),Oe=W(VERTICAL_SLIDES_SELECTOR,t===undefined?Oe:t);let u=Te!==o||Oe!==s;u||(Pe=null);let c=r[Te],p=c.querySelectorAll("section");Ce=p[Oe]||c;let f=!1;u&&Pe&&Ce&&!Ge.isActive()&&(Pe.hasAttribute("data-auto-animate")&&Ce.hasAttribute("data-auto-animate")&&(f=!0,He.slides.classList.add("disable-slide-transitions")),je="running"),Z(),N(),Ge.isActive()&&Ge.update(),void 0!==i&&Qe.goto(i),Pe&&Pe!==Ce&&(Pe.classList.remove("present"),Pe.setAttribute("aria-hidden","true"),I()&&setTimeout(()=>{te().forEach(e=>{P(e,0)})},0));e:for(let e=0,t=Me.length;e<t;e++){for(let t=0;t<a.length;t++)if(a[t]===Me[e]){a.splice(t,1);continue e}He.viewport.classList.add(Me[e]),y({type:Me[e]})}for(;a.length;)He.viewport.classList.remove(a.pop());u&&y({type:"slidechanged",data:{indexh:Te,indexv:Oe,previousSlide:Pe,currentSlide:Ce,origin:n}}),!u&&Pe||(Ke.stopEmbeddedContent(Pe),Ke.startEmbeddedContent(Ce)),l(d(Ce)),et.update(),Ye.update(),ot.update(),$e.update(),$e.updateParallax(),We.update(),Qe.update(),Xe.writeURL(),ue(),f&&(setTimeout(()=>{He.slides.classList.remove("disable-slide-transitions")},0),ke.autoAnimate&&Ze.run(Pe,Ce))}function F(){g(),f(),N(),ze=ke.autoSlide,ue(),$e.create(),Xe.writeURL(),Qe.sortAll(),Ye.update(),et.update(),Z(),ot.update(),ot.updateVisibility(),$e.update(!0),We.update(),Ke.formatEmbeddedContent(),!1===ke.autoPlayMedia?Ke.stopEmbeddedContent(Ce,{unloadIframes:!1}):Ke.startEmbeddedContent(Ce),Ge.isActive()&&Ge.layout()}function V(e=Ce){$e.sync(e),Qe.sync(e),Ke.load(e),$e.update(),ot.update()}function B(){Y().forEach(e=>{Util.queryAll(e,"section").forEach((e,t)=>{t>0&&(e.classList.remove("present"),e.classList.remove("past"),e.classList.add("future"),e.setAttribute("aria-hidden","true"))})})}function K(e=Y()){e.forEach(t=>{let i=e[Math.floor(Math.random()*e.length)];i.parentNode===t.parentNode&&t.parentNode.insertBefore(t,i);let n=t.querySelectorAll("section");n.length&&K(n)})}function W(e,t){let i=Util.queryAll(He.wrapper,e),n=i.length,r=nt.isPrintingPDF();if(n){ke.loop&&(t%=n)<0&&(t=n+t),t=Math.max(Math.min(t,n-1),0);for(let e=0;e<n;e++){let n=i[e],a=ke.rtl&&!R(n);n.classList.remove("past"),n.classList.remove("present"),n.classList.remove("future"),n.setAttribute("hidden",""),n.setAttribute("aria-hidden","true"),n.querySelector("section")&&n.classList.add("stack"),r?n.classList.add("present"):e<t?(n.classList.add(a?"future":"past"),ke.fragments&&Util.queryAll(n,".fragment").forEach(e=>{e.classList.add("visible"),e.classList.remove("current-fragment")})):e>t&&(n.classList.add(a?"past":"future"),ke.fragments&&Util.queryAll(n,".fragment.visible").forEach(e=>{e.classList.remove("visible","current-fragment")}))}let e=i[t],a=e.classList.contains("present");e.classList.add("present"),e.removeAttribute("hidden"),e.removeAttribute("aria-hidden"),a||y({target:e,type:"visible",bubbles:!1});let o=e.getAttribute("data-state");o&&(Me=Me.concat(o.split(" ")))}else t=0;return t}function Z(){let e,t,i=Y(),n=i.length;if(n&&void 0!==Te){let r=Ge.isActive()?10:ke.viewDistance;Device.isMobile&&(r=Ge.isActive()?6:ke.mobileViewDistance),nt.isPrintingPDF()&&(r=Number.MAX_VALUE);for(let a=0;a<n;a++){let o=i[a],s=Util.queryAll(o,"section"),l=s.length;if(e=Math.abs((Te||0)-a)||0,ke.loop&&(e=Math.abs(((Te||0)-a)%(n-r))||0),e<r?Ke.load(o):Ke.unload(o),l){let i=C(o);for(let n=0;n<l;n++){let o=s[n];e+(t=a===(Te||0)?Math.abs((Oe||0)-n):Math.abs(n-i))<r?Ke.load(o):Ke.unload(o)}}}ne()?He.wrapper.classList.add("has-vertical-slides"):He.wrapper.classList.remove("has-vertical-slides"),ie()?He.wrapper.classList.add("has-horizontal-slides"):He.wrapper.classList.remove("has-horizontal-slides")}}function $({includeFragments:e=!1}={}){let t=He.wrapper.querySelectorAll(HORIZONTAL_SLIDES_SELECTOR),i=He.wrapper.querySelectorAll(VERTICAL_SLIDES_SELECTOR),n={left:Te>0,right:Te<t.length-1,up:Oe>0,down:Oe<i.length-1};if(ke.loop&&(t.length>1&&(n.left=!0,n.right=!0),i.length>1&&(n.up=!0,n.down=!0)),t.length>1&&"linear"===ke.navigationMode&&(n.right=n.right||n.down,n.left=n.left||n.up),!0===e){let e=Qe.availableRoutes();n.left=n.left||e.prev,n.up=n.up||e.prev,n.down=n.down||e.next,n.right=n.right||e.next}if(ke.rtl){let e=n.left;n.left=n.right,n.right=e}return n}function Q(e=Ce){let t=Y(),i=0;e:for(let n=0;n<t.length;n++){let r=t[n],a=r.querySelectorAll("section");for(let t=0;t<a.length;t++){if(a[t]===e)break e;"uncounted"!==a[t].dataset.visibility&&i++}if(r===e)break;!1===r.classList.contains("stack")&&"uncounted"!==r.dataset.visibility&&i++}return i}function G(){let e=ae(),t=Q();if(Ce){let e=Ce.querySelectorAll(".fragment");if(e.length>0){let i=.9;t+=Ce.querySelectorAll(".fragment.visible").length/e.length*i}}return Math.min(t/(e-1),1)}function J(e){let t,i=Te,n=Oe;if(e){let t=R(e),r=t?e.parentNode:e,a=Y();i=Math.max(a.indexOf(r),0),n=undefined,t&&(n=Math.max(Util.queryAll(e.parentNode,"section").indexOf(e),0))}if(!e&&Ce){if(Ce.querySelectorAll(".fragment").length>0){let e=Ce.querySelector(".current-fragment");t=e&&e.hasAttribute("data-fragment-index")?parseInt(e.getAttribute("data-fragment-index"),10):Ce.querySelectorAll(".fragment.visible").length-1}}return{h:i,v:n,f:t}}function X(){return Util.queryAll(He.wrapper,SLIDES_SELECTOR+':not(.stack):not([data-visibility="uncounted"])')}function Y(){return Util.queryAll(He.wrapper,HORIZONTAL_SLIDES_SELECTOR)}function ee(){return Util.queryAll(He.wrapper,".slides>section>section")}function te(){return Util.queryAll(He.wrapper,HORIZONTAL_SLIDES_SELECTOR+".stack")}function ie(){return Y().length>1}function ne(){return ee().length>1}function re(){return X().map(e=>{let t={};for(let i=0;i<e.attributes.length;i++){let n=e.attributes[i];t[n.name]=n.value}return t})}function ae(){return X().length}function oe(e,t){let i=Y()[e],n=i&&i.querySelectorAll("section");return n&&n.length&&"number"==typeof t?n?n[t]:undefined:i}function se(e,t){let i="number"==typeof e?oe(e,t):e;return i?i.slideBackgroundElement:undefined}function le(){let e=J();return{indexh:e.h,indexv:e.v,indexf:e.f,paused:H(),overview:Ge.isActive()}}function de(e){if("object"==typeof e){z(Util.deserialize(e.indexh),Util.deserialize(e.indexv),Util.deserialize(e.indexf));let t=Util.deserialize(e.paused),i=Util.deserialize(e.overview);"boolean"==typeof t&&t!==H()&&D(t),"boolean"==typeof i&&i!==Ge.isActive()&&Ge.toggle(i)}}function ue(){if(ce(),Ce&&!1!==ke.autoSlide){let e=Ce.querySelector(".current-fragment");e||(e=Ce.querySelector(".fragment"));let t=e?e.getAttribute("data-autoslide"):null,i=Ce.parentNode?Ce.parentNode.getAttribute("data-autoslide"):null,n=Ce.getAttribute("data-autoslide");t?ze=parseInt(t,10):n?ze=parseInt(n,10):i?ze=parseInt(i,10):(ze=ke.autoSlide,0===Ce.querySelectorAll(".fragment").length&&Util.queryAll(Ce,"video, audio").forEach(e=>{e.hasAttribute("data-autoplay")&&ze&&1e3*e.duration/e.playbackRate>ze&&(ze=1e3*e.duration/e.playbackRate+1e3)})),!ze||Be||H()||Ge.isActive()||q()&&!Qe.availableRoutes().next&&!0!==ke.loop||(Fe=setTimeout(()=>{"function"==typeof ke.autoSlideMethod?ke.autoSlideMethod():be(),ue()},ze),Ve=Date.now()),Re&&Re.setPlaying(-1!==Fe)}}function ce(){clearTimeout(Fe),Fe=-1}function pe(){ze&&!Be&&(Be=!0,y({type:"autoslidepaused"}),clearTimeout(Fe),Re&&Re.setPlaying(!1))}function fe(){ze&&Be&&(Be=!1,y({type:"autoslideresumed"}),ue())}function ge(){qe.hasNavigatedHorizontally=!0,ke.rtl?(Ge.isActive()||!1===Qe.next())&&$().left&&z(Te+1,"grid"===ke.navigationMode?Oe:undefined):(Ge.isActive()||!1===Qe.prev())&&$().left&&z(Te-1,"grid"===ke.navigationMode?Oe:undefined)}function ve(){qe.hasNavigatedHorizontally=!0,ke.rtl?(Ge.isActive()||!1===Qe.prev())&&$().right&&z(Te-1,"grid"===ke.navigationMode?Oe:undefined):(Ge.isActive()||!1===Qe.next())&&$().right&&z(Te+1,"grid"===ke.navigationMode?Oe:undefined)}function he(){(Ge.isActive()||!1===Qe.prev())&&$().up&&z(Te,Oe-1)}function me(){qe.hasNavigatedVertically=!0,(Ge.isActive()||!1===Qe.next())&&$().down&&z(Te,Oe+1)}function ye(){if(!1===Qe.prev())if($().up)he();else{let e;if(e=ke.rtl?Util.queryAll(He.wrapper,HORIZONTAL_SLIDES_SELECTOR+".future").pop():Util.queryAll(He.wrapper,HORIZONTAL_SLIDES_SELECTOR+".past").pop()){let t=e.querySelectorAll("section").length-1||undefined;z(Te-1,t)}}}function be(){if(qe.hasNavigatedHorizontally=!0,qe.hasNavigatedVertically=!0,!1===Qe.next()){let e=$();e.down&&e.right&&ke.loop&&k(Ce)&&(e.down=!1),e.down?me():ke.rtl?ge():ve()}}function we(){ke.autoSlideStoppable&&pe()}function Se(e){"running"===je&&/section/gi.test(e.target.nodeName)&&(je="idle",y({type:"slidetransitionend",data:{indexh:Te,indexv:Oe,previousSlide:Pe,currentSlide:Ce}}))}function Le(){N()}function Ee(){!1===document.hidden&&document.activeElement!==document.body&&("function"==typeof document.activeElement.blur&&document.activeElement.blur(),document.body.focus())}function Ae(e){if(e.currentTarget&&e.currentTarget.hasAttribute("href")){let t=e.currentTarget.getAttribute("href");t&&(L(t),e.preventDefault())}}function xe(){q()&&!1===ke.loop?(z(0,0),fe()):Be?fe():pe()}arguments.length<2&&(t=arguments[0],e=document.querySelector(".reveal"));const Ne={};let Te,Oe,Pe,Ce,Re,ke={},Ie=!1,qe={hasNavigatedHorizontally:!1,hasNavigatedVertically:!1},Me=[],Ue=1,De={layout:"",overview:""},He={},_e=!1,je="idle",ze=0,Fe=0,Ve=-1,Be=!1,Ke=new SlideContent(Ne),We=new SlideNumber(Ne),Ze=new AutoAnimate(Ne),$e=new Backgrounds(Ne),Qe=new Fragments(Ne),Ge=new Overview(Ne),Je=new Keyboard(Ne),Xe=new Location(Ne),Ye=new Controls(Ne),et=new Progress(Ne),tt=new Pointer(Ne),it=new Plugins(Ne),nt=new Print(Ne),rt=new Focus(Ne),at=new Touch(Ne),ot=new Notes(Ne);const st={VERSION:VERSION,initialize:i,configure:p,sync:F,syncSlide:V,syncFragments:Qe.sync.bind(Qe),slide:z,left:ge,right:ve,up:he,down:me,prev:ye,next:be,navigateLeft:ge,navigateRight:ve,navigateUp:he,navigateDown:me,navigatePrev:ye,navigateNext:be,navigateFragment:Qe.goto.bind(Qe),prevFragment:Qe.prev.bind(Qe),nextFragment:Qe.next.bind(Qe),on:v,off:h,addEventListener:v,removeEventListener:h,layout:N,shuffle:K,availableRoutes:$,availableFragments:Qe.availableRoutes.bind(Qe),toggleHelp:E,toggleOverview:Ge.toggle.bind(Ge),togglePause:D,toggleAutoSlide:_,isFirstSlide:I,isLastSlide:q,isLastVerticalSlide:k,isVerticalSlide:R,isPaused:H,isAutoSliding:j,isSpeakerNotes:ot.isSpeakerNotesWindow.bind(ot),isOverview:Ge.isActive.bind(Ge),isFocused:rt.isFocused.bind(rt),isPrintingPDF:nt.isPrintingPDF.bind(nt),isReady:()=>Ie,loadSlide:Ke.load.bind(Ke),unloadSlide:Ke.unload.bind(Ke),addEventListeners:f,removeEventListeners:g,dispatchEvent:y,getState:le,setState:de,getProgress:G,getIndices:J,getSlidesAttributes:re,getSlidePastCount:Q,getTotalSlides:ae,getSlide:oe,getPreviousSlide:()=>Pe,getCurrentSlide:()=>Ce,getSlideBackground:se,getSlideNotes:ot.getSlideNotes.bind(ot),getSlides:X,getHorizontalSlides:Y,getVerticalSlides:ee,hasHorizontalSlides:ie,hasVerticalSlides:ne,hasNavigatedHorizontally:()=>qe.hasNavigatedHorizontally,hasNavigatedVertically:()=>qe.hasNavigatedVertically,addKeyBinding:Je.addKeyBinding.bind(Je),removeKeyBinding:Je.removeKeyBinding.bind(Je),triggerKey:Je.triggerKey.bind(Je),registerKeyboardShortcut:Je.registerKeyboardShortcut.bind(Je),getComputedSlideSize:O,getScale:()=>Ue,getConfig:()=>ke,getQueryHash:Util.getQueryHash,getRevealElement:()=>e,getSlidesElement:()=>He.slides,getViewportElement:()=>He.viewport,getBackgroundsElement:()=>$e.element,registerPlugin:it.registerPlugin.bind(it),hasPlugin:it.hasPlugin.bind(it),getPlugin:it.getPlugin.bind(it),getPlugins:it.getRegisteredPlugins.bind(it)};return Util.extend(Ne,{...st,announceStatus:l,getStatusText:d,print:nt,focus:rt,progress:et,controls:Ye,location:Xe,overview:Ge,fragments:Qe,slideContent:Ke,slideNumber:We,onUserInput:we,closeOverlay:x,updateSlidesVisibility:Z,layoutSlideContents:T,transformSlides:m,cueAutoSlide:ue,cancelAutoSlide:ce}),st};